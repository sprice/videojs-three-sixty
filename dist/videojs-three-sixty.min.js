!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";module.exports=function(){var c=document.createElement("canvas");try{return!(!window.WebGLRenderingContext||!c.getContext("experimental-webgl")&&!c.getContext("webgl"))}catch(e){return null}}()},{}],2:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _videoJs="undefined"!=typeof window?window.videojs:"undefined"!=typeof global?global.videojs:null,_videoJs2=_interopRequireDefault(_videoJs),_threeJs="undefined"!=typeof window?window.THREE:"undefined"!=typeof global?global.THREE:null,_threeJs2=_interopRequireDefault(_threeJs),_jquery="undefined"!=typeof window?window.jQuery:"undefined"!=typeof global?global.jQuery:null,_jquery2=_interopRequireDefault(_jquery),_detectorWebgl=require("detector-webgl"),_detectorWebgl2=_interopRequireDefault(_detectorWebgl),_DeviceOrientationController="undefined"!=typeof window?window.DeviceOrientationController:"undefined"!=typeof global?global.DeviceOrientationController:null,_DeviceOrientationController2=_interopRequireDefault(_DeviceOrientationController),ThreeSixty=function(options){function prepareEquirectangular(){geometry=new _threeJs2["default"].SphereGeometry(800,32,32)}function prepareCubeMap(){var edge=options.edge,thirdLow=.3333333333333333,thirdHigh=.3333333333333333,sixthLow=.6666666666666666,sixthHigh=.6666666666666666,rightSide=[new _threeJs2["default"].Vector2(0,1),new _threeJs2["default"].Vector2(0,.5),new _threeJs2["default"].Vector2(thirdHigh,.5),new _threeJs2["default"].Vector2(thirdHigh,1)],leftSide=[new _threeJs2["default"].Vector2(thirdLow,1),new _threeJs2["default"].Vector2(thirdLow,.5),new _threeJs2["default"].Vector2(sixthHigh,.5),new _threeJs2["default"].Vector2(sixthHigh,1)],topSide=[new _threeJs2["default"].Vector2(1,.5),new _threeJs2["default"].Vector2(1,1),new _threeJs2["default"].Vector2(sixthLow,1),new _threeJs2["default"].Vector2(sixthLow,.5)],bottomSide=[new _threeJs2["default"].Vector2(thirdHigh,0),new _threeJs2["default"].Vector2(thirdHigh,.5),new _threeJs2["default"].Vector2(0,.5),new _threeJs2["default"].Vector2(0,0)],frontSide=[new _threeJs2["default"].Vector2(thirdLow,.5),new _threeJs2["default"].Vector2(thirdLow,0),new _threeJs2["default"].Vector2(sixthHigh,0),new _threeJs2["default"].Vector2(sixthHigh,.5)],backSide=[new _threeJs2["default"].Vector2(sixthLow,.5),new _threeJs2["default"].Vector2(sixthLow,0),new _threeJs2["default"].Vector2(1,0),new _threeJs2["default"].Vector2(1,.5)];geometry=new _threeJs2["default"].BoxGeometry(edge,edge,edge),geometry.faceVertexUvs[0]=[],geometry.faceVertexUvs[0][0]=[leftSide[0],leftSide[1],leftSide[3]],geometry.faceVertexUvs[0][1]=[leftSide[1],leftSide[2],leftSide[3]],geometry.faceVertexUvs[0][2]=[rightSide[0],rightSide[1],rightSide[3]],geometry.faceVertexUvs[0][3]=[rightSide[1],rightSide[2],rightSide[3]],geometry.faceVertexUvs[0][4]=[topSide[0],topSide[1],topSide[3]],geometry.faceVertexUvs[0][5]=[topSide[1],topSide[2],topSide[3]],geometry.faceVertexUvs[0][6]=[bottomSide[0],bottomSide[1],bottomSide[3]],geometry.faceVertexUvs[0][7]=[bottomSide[1],bottomSide[2],bottomSide[3]],geometry.faceVertexUvs[0][8]=[backSide[0],backSide[1],backSide[3]],geometry.faceVertexUvs[0][9]=[backSide[1],backSide[2],backSide[3]],geometry.faceVertexUvs[0][10]=[frontSide[0],frontSide[1],frontSide[3]],geometry.faceVertexUvs[0][11]=[frontSide[1],frontSide[2],frontSide[3]]}function init(){if(scene=new _threeJs2["default"].Scene,camera=new _threeJs2["default"].PerspectiveCamera(80,aspect,1,1e3),scene.add(camera),!_detectorWebgl2["default"])return console.error("WebGL is not available");renderer=new _threeJs2["default"].WebGLRenderer({antialias:!0}),renderer.setSize(sizeWidth,sizeHeight),container.appendChild(renderer.domElement);var DOCOptions={};DOCOptions.naturalScrolling=!0,controls=new _DeviceOrientationController2["default"](camera,container,DOCOptions),controls.connect(),texture=new _threeJs2["default"].Texture(video),texture.minFilter=_threeJs2["default"].LinearFilter,texture.magFilter=_threeJs2["default"].LinearFilter,material=new _threeJs2["default"].MeshBasicMaterial({map:texture,side:_threeJs2["default"].DoubleSide}),"cube_map"===options.projection?prepareCubeMap():prepareEquirectangular(),screen=new _threeJs2["default"].Mesh(geometry,material),screen.scale.x=-1,position="equirectangular"===options.projection?{x:-45,y:0,z:0}:{x:0,y:0,z:0},screen.position.set(position.x,position.y,position.z),scene.add(screen),camera.lookAt(position)}function animate(){window.requestAnimationFrame(animate),render(),update()}function update(){controls.update(),(0,_jquery2["default"])(video).hide()}function render(){video.readyState===video.HAVE_ENOUGH_DATA&&texture&&(texture.needsUpdate=!0),renderer.render(scene,camera)}var container=this.el(),video=this.el().getElementsByTagName("video")[0],scene=void 0,camera=void 0,aspect=options.width/options.height||16/9,renderer=void 0,sizeWidth=options.width,sizeHeight=options.height,controls=void 0,material=void 0,geometry=void 0,screen=void 0,texture=void 0,position=void 0;init(),animate()};_videoJs2["default"].plugin("ThreeSixty",ThreeSixty)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"detector-webgl":1}]},{},[2]);